<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Walkie Talkie - Bolt.new</title>
    <meta name="description" content="Real-time walkie talkie communication deployed on Bolt.new">
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div id="app">
        <header class="header">
            <div class="header-content">
                <h1>üéØ Walkie Talkie</h1>
                <p>Real-time voice communication ‚Ä¢ Deployed on <strong>Bolt.new</strong></p>
            </div>
        </header>

        <main class="main">
            <!-- Connection Section -->
            <section id="connectionSection" class="section active">
                <div class="card">
                    <div class="card-header">
                        <h2>Join a Voice Room</h2>
                        <p>Create or join a room to start communicating</p>
                    </div>
                    
                    <div class="input-group">
                        <div class="input-field">
                            <label for="roomInput">Room Name</label>
                            <input 
                                type="text" 
                                id="roomInput" 
                                placeholder="Enter room name" 
                                maxlength="20"
                                required
                            >
                        </div>
                        <div class="input-field">
                            <label for="usernameInput">Your Name</label>
                            <input 
                                type="text" 
                                id="usernameInput" 
                                placeholder="Enter your name" 
                                maxlength="15"
                                value="User"
                                required
                            >
                        </div>
                    </div>
                    
                    <button id="joinButton" class="btn btn-primary">
                        <span class="btn-text">Join Room</span>
                        <span class="btn-loader hidden">Connecting...</span>
                    </button>
                    
                    <div class="info-box">
                        <h4>How it works:</h4>
                        <ul>
                            <li>üé§ Hold the button to talk, release to listen</li>
                            <li>üîó Share the room name with others</li>
                            <li>üì± Works on all modern browsers</li>
                            <li>‚ö° Powered by WebRTC & Socket.io</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Room Section -->
            <section id="roomSection" class="section">
                <div class="card">
                    <div class="room-header">
                        <div class="room-info">
                            <h2>Room: <span id="roomName" class="room-name"></span></h2>
                            <div id="connectionStatus" class="status connected">Connected</div>
                        </div>
                        <button id="leaveButton" class="btn btn-secondary">
                            Leave Room
                        </button>
                    </div>
                    
                    <div class="users-panel">
                        <h3>Connected Users (<span id="usersCount">0</span>)</h3>
                        <div id="usersList" class="users-list">
                            <!-- Users will be populated here -->
                        </div>
                    </div>

                    <div class="walkie-controls">
                        <button id="talkButton" class="talk-button">
                            <span class="talk-icon">üé§</span>
                            <span class="talk-text">Press to Talk</span>
                            <div class="talk-wave"></div>
                        </button>
                        <div class="talk-instruction">
                            Hold the button to speak, release to listen
                        </div>
                    </div>

                    <div class="technical-info">
                        <details>
                            <summary>Technical Details</summary>
                            <div class="tech-details">
                                <p><strong>Your ID:</strong> <code id="userIdDisplay">-</code></p>
                                <p><strong>Connection:</strong> <span id="techStatus">Establishing...</span></p>
                                <p><strong>Platform:</strong> Bolt.new</p>
                            </div>
                        </details>
                    </div>
                </div>
            </section>
        </main>

        <!-- Notification System -->
        <div id="notificationContainer" class="notification-container"></div>

        <footer class="footer">
            <p>
                Built with ‚ù§Ô∏è for <strong>Bolt.new</strong> ‚Ä¢ 
                WebRTC ‚Ä¢ Socket.io ‚Ä¢ Node.js
            </p>
        </footer>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/app.js"></script>
</body>
</html>